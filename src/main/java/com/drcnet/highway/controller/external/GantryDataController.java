package com.drcnet.highway.controller.external;

import com.alibaba.fastjson.JSON;
import com.drcnet.highway.dto.request.enternal.GantryDataDto;
import com.drcnet.highway.service.external.GantryDataService;
import io.swagger.annotations.Api;
import lombok.extern.slf4j.Slf4j;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import sun.misc.BASE64Decoder;

import javax.annotation.Resource;
import java.io.FileOutputStream;
import java.io.OutputStream;

/**
 * @Author jack
 * @Date: 2019/10/21 16:10
 * @Desc:
 **/
@Slf4j
@RestController
@RequestMapping("gantryData")
@Api(value = "GantryDataController", tags = "龙门架数据接收接口")
public class GantryDataController {

    @Resource
    private GantryDataService gantryDataService;

    @PostMapping("receiveGantryData")
    public void receiveGantryData(@RequestBody GantryDataDto gantryDataDto) {
        if ("3".equals(gantryDataDto.getTaskNum())) {
            log.info(JSON.toJSONString(gantryDataDto));
            /*String carNoPath = "c:\\tmp\\img\\";
            convertBase642Img(carNoPath, gantryDataDto.getImgBase64(), gantryDataDto.getPlateNum());
            String carTypePath = "c:\\tmp\\img_type\\";
            convertBase642Img(carTypePath, gantryDataDto.getImgBase64Type(), gantryDataDto.getPlateNum());*/

            gantryDataService.processGantryData(gantryDataDto);
        }
    }


    private void convertBase642Img(String imgPath, String base64, String carNo) {
        BASE64Decoder decoder = new BASE64Decoder();
        try {
            //Base64解码
            byte[] b = decoder.decodeBuffer(base64);
            for (int i = 0; i < b.length; ++i) {
                if (b[i] < 0) {
                    //调整异常数据
                    b[i] += 256;
                }
            }
            //生成jpeg图片

            //System.currentTimeMillis()
            //新生成的图片
            String imgFilePath = imgPath + carNo + ".jpg";
            OutputStream out = new FileOutputStream(imgFilePath);
            out.write(b);
            out.flush();
            out.close();
        } catch (Exception e) {
            log.error("图片转换错误：", e);
        }
    }

    public static void main(String[] args) {
        String base64 = "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";
        String imgPath = "c:\\\\tmp\\\\img\\\\";
        BASE64Decoder decoder = new BASE64Decoder();
        try {
            //Base64解码
            byte[] b = decoder.decodeBuffer(base64);
            for (int i = 0; i < b.length; ++i) {
                if (b[i] < 0) {
                    //调整异常数据
                    b[i] += 256;
                }
            }
            //生成jpeg图片

            //System.currentTimeMillis()
            //新生成的图片
            String imgFilePath = imgPath + 111 + ".jpg";
            OutputStream out = new FileOutputStream(imgFilePath);
            out.write(b);
            out.flush();
            out.close();
        } catch (Exception e) {
            log.error("图片转换错误：", e);
        }
    }
}
